{
  "file_name": "game_manager.verse",
  "questions": [
    "How do I assign a random class to a player when they spawn?",
    "What is the Verse code for a simple game manager that handles class selection?",
    "How can I use a tracker device to store a player's assigned class ID?"
  ],
  "explanation": "This script defines a 'game_manager' device that serves as a simple system for assigning a random class to each player when they spawn into the game.\n\n- **Class System:** It uses a 'tracker_device' to store the assigned class ID for each player. The 'AmountOfSuperpowers' variable determines the range of possible class IDs.\n- **Activation:** The 'OnPlayerSpawned' function is subscribed to all player spawners that have the 'spawner' tag. When a player spawns, it triggers the class assignment logic.\n- **Core Logic:** The 'AssignClassReal' function generates a random integer between 1 and the total number of available classes. It then uses the `tracker_device.SetValue()` method to store this random number as the player's class ID. Other scripts in the project can then read this tracker value to see which class a player belongs to.",
  "code": "using { /Fortnite.com/Devices }\nusing { /Verse.org/Simulation }\nusing { /UnrealEngine.com/Temporary/Diagnostics }\nusing { /Verse.org/Random }\nusing { /UnrealEngine.com/Temporary/UI }\nusing { /Fortnite.com/UI }\nusing { /UnrealEngine.com/Temporary/SpatialMath}\nusing { /Verse.org/Assets }\nusing { /Fortnite.com/Characters }\nusing { /Fortnite.com/Game }\nusing { /Fortnite.com/FortPlayerUtilities }\nusing { /Verse.org/Simulation/Tags }\n\nspawner := class(tag){}\n\nClasses := class<concrete>():\n    @editable ClassSelector : class_and_team_selector_device = class_and_team_selector_device{}\n    @editable ClassHud : hud_message_device = hud_message_device{}\n    \ngame_manager := class(creative_device):\n    @editable ClassTracker : tracker_device = tracker_device{}\n    @editable var AmountOfSupperpowers:int = 0\n\n    var ClassSelectors : []Classes = array{}\n \n    OnBegin<override>()<suspends>:void=\n        InitSpawners()  \n\n    InitSpawners() : void=\n        Spawners := FindCreativeObjectsWithTag(spawner{})\n        for (Obj : Spawners):\n            if (Spawner := player_spawner_device[Obj]):\n                Spawner.SpawnedEvent.Subscribe(OnPlayerSpawned)\n\n    OnPlayerSpawned(Agent : agent): void=\n        if (Player := player[Agent]):\n            spawn{AssignClassReal(Agent)}\n\n    AssignClassReal(Agent:agent)<suspends>: void=\n        RandomGen := GetRandomInt(1,AmountOfSupperpowers)\n        ClassTracker.SetValue(Agent, RandomGen)",
  "external_calls": [
    "tags.verse"
  ]
}
