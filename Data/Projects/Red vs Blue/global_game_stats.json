{
  "file_name": "global_game_stats.verse",
  "questions": [
    "How do I track and display team scores on billboards?",
    "What is the Verse code for a central game stats object?",
    "I need a script that can grant different amounts of gold if a bounty is active on a kill."
  ],
  "explanation": "This script defines a 'global_game_stats' class that acts as a self-contained manager for game-wide statistics. It is not a device itself but is intended to be held and used by a main game manager.\n\n- **Core Responsibilities:** The class has two primary jobs:\n  1.  **Score Management:** It tracks the total score for Team A and Team B. The `AddTeamScore` function updates a team's score and immediately displays the new total on that team's assigned 'billboard_device' and a main 'hud_message_device'.\n  2.  **Conditional Item Granting:** It handles the logic for awarding gold. It has separate functions for player eliminations and guard eliminations. Each function checks if a bounty is active and uses the appropriate 'item_granter_device' to give the correct reward.",
  "code": "using { /Fortnite.com/Devices }\nusing { /Verse.org/Simulation }\nusing { /UnrealEngine.com/Temporary/Diagnostics }\n\nglobal_game_stats := class<concrete>:\n\n    #references\n    @editable MainHUD : hud_message_device = hud_message_device{}\n\n    @editable   TeamABillboard : billboard_device = billboard_device{}\n    @editable   TeamBBillboard : billboard_device = billboard_device{}\n    \n    @editable   GoldGranterForPlayerElimination : item_granter_device = item_granter_device{}\n    @editable   GoldGranterForPlayerEliminationBounty : item_granter_device = item_granter_device{}\n    @editable   GoldGranterForGuardElimination : item_granter_device = item_granter_device{}\n    @editable   GoldGranterForGuardEliminationBounty : item_granter_device = item_granter_device{}\n\n    var TotalScore : int = 0\n    var TeamAScore : int = 0\n    var TeamBScore : int = 0\n\n    TeamsScoreToUI<localizes>(TeamsScore: string)<computes>: message = \"{TeamsScore}\"\n\n    AddTeamScore(TeamId : int, ScoreToAdd : int):void=\n        case (TeamId):\n            0 =>\n                set TeamAScore += ScoreToAdd\n                TeamABillboard.SetText(StringToMessage(\"{TeamAScore}\"))\n                Print(\"AddTeamScore {TeamId}, A Team Score {TeamAScore}\", ?Duration:=6.0)\n            1 =>\n                set TeamBScore += ScoreToAdd\n                TeamBBillboard.SetText(StringToMessage(\"{TeamBScore}\"))\n                Print(\"AddTeamScore {TeamId}, B Team Score {TeamBScore}\", ?Duration:=6.0)\n            _ => \n\n        HudMessage : string = \"{TeamAScore} \\n{TeamBScore}\"\n        MainHUD.SetText(TeamsScoreToUI(HudMessage))\n        MainHUD.Show()\n        \n\n    AddGlobalScore(ScoreToAdd : int):void=\n        set TotalScore += ScoreToAdd\n\n\n    GrantGoldForPlayerElimination(Agent : agent, IsBountyActive : logic):void=\n        if (IsBountyActive = true):\n            GoldGranterForPlayerEliminationBounty.GrantItem(Agent)\n        else:\n            GoldGranterForPlayerElimination.GrantItem(Agent)\n\n\n    GrantGoldForGuardElimination(Agent : agent, IsBountyActive : logic):void=\n        if (IsBountyActive = true):\n            GoldGranterForGuardEliminationBounty.GrantItem(Agent)\n        else:\n            GoldGranterForGuardElimination.GrantItem(Agent)",
  "external_calls": []
}